{"ast":null,"code":"var _jsxFileName = \"/Users/jacob/Development/booksontap/pages/index.tsx\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport Link from \"next/link\";\nimport Layout from \"../components/layout\";\nimport Container from \"../components/layout/container\";\nconst Books = styled.ul`\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: space-around;\n\tlist-style: none;\n\tpadding: 0;\n\n\tli {\n\t\twidth: 30%;\n\t\tmin-width: 300px;\n\t\tmargin: 1rem;\n\t\tflex-grow: 1;\n\t}\n\timg {\n\t\tdisplay: block;\n\t\tmax-width: 100%;\n\t}\n`;\nconst Price = styled.span`\n\tfont-size: 1.25rem;\n`;\n\nconst BookLink = ({\n  slug,\n  children\n}) => React.createElement(Link, {\n  href: \"/book/[slug]\",\n  as: `/book/${slug}`,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34\n  },\n  __self: this\n}, React.createElement(\"a\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35\n  },\n  __self: this\n}, children));\n\nconst indexPage = () => {\n  const [books, setBooks] = useState([]);\n\n  const getBooks = () => {\n    return axios.get(`https://booksontap.azurewebsites.net/api/Books`);\n  };\n\n  useEffect(() => {\n    getBooks().then(res => {\n      setBooks(res.data);\n    });\n  }, []);\n\n  const toLocalCurrency = (amount, country = \"en-GB\", currency = \"GBP\") => {\n    return new Intl.NumberFormat(country, {\n      style: \"currency\",\n      currency: currency\n    }).format(amount);\n  };\n\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Books, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, books.length !== 0 ? books.results.map(book => React.createElement(\"li\", {\n    key: book.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(BookLink, {\n    slug: book.id,\n    content: book,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: book.thumbnail,\n    alt: book.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(Price, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, toLocalCurrency(book.price)), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, book.title), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, `byd ${book.author.firstName} ${book.author.lastName}`)))) : React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Loading ...\"))));\n};\n\nexport default indexPage;","map":{"version":3,"sources":["/Users/jacob/Development/booksontap/pages/index.tsx"],"names":["useEffect","useState","axios","styled","Link","Layout","Container","Books","ul","Price","span","BookLink","slug","children","indexPage","books","setBooks","getBooks","get","then","res","data","toLocalCurrency","amount","country","currency","Intl","NumberFormat","style","format","length","results","map","book","id","thumbnail","title","price","author","firstName","lastName"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AAEA,MAAMC,KAAK,GAAGJ,MAAM,CAACK,EAAG;;;;;;;;;;;;;;;;;;CAAxB;AAoBA,MAAMC,KAAK,GAAGN,MAAM,CAACO,IAAK;;CAA1B;;AAIA,MAAMC,QAAQ,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAChB,oBAAC,IAAD;AAAM,EAAA,IAAI,EAAC,cAAX;AAA0B,EAAA,EAAE,EAAG,SAAQD,IAAK,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIC,QAAJ,CADD,CADD;;AA+BA,MAAMC,SAAS,GAAG,MAAM;AACvB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAM,EAAN,CAAlC;;AAEA,QAAMgB,QAAQ,GAAG,MAAM;AACtB,WAAOf,KAAK,CAACgB,GAAN,CAAW,gDAAX,CAAP;AACA,GAFD;;AAIAlB,EAAAA,SAAS,CAAC,MAAM;AACfiB,IAAAA,QAAQ,GAAGE,IAAX,CAAgBC,GAAG,IAAI;AACtBJ,MAAAA,QAAQ,CAACI,GAAG,CAACC,IAAL,CAAR;AACA,KAFD;AAGA,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,eAAe,GAAG,CAACC,MAAD,EAASC,OAAO,GAAG,OAAnB,EAA4BC,QAAQ,GAAG,KAAvC,KAAiD;AACxE,WAAO,IAAIC,IAAI,CAACC,YAAT,CAAsBH,OAAtB,EAA+B;AACrCI,MAAAA,KAAK,EAAE,UAD8B;AAErCH,MAAAA,QAAQ,EAAEA;AAF2B,KAA/B,EAGJI,MAHI,CAGGN,MAHH,CAAP;AAIA,GALD;;AAOA,SACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACER,KAAK,CAACe,MAAN,KAAiB,CAAjB,GACAf,KAAK,CAACgB,OAAN,CAAcC,GAAd,CAAkBC,IAAI,IACrB;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAED,IAAI,CAACC,EAArB;AAAyB,IAAA,OAAO,EAAED,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AACC,IAAA,GAAG,EAAEA,IAAI,CAACE,SADX;AAEC,IAAA,GAAG,EAAEF,IAAI,CAACG,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAKC,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQd,eAAe,CAACW,IAAI,CAACI,KAAN,CAAvB,CALD,EAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,IAAI,CAACG,KAAV,CAND,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK,OAAMH,IAAI,CAACK,MAAL,CAAYC,SAAU,IAChCN,IAAI,CAACK,MAAL,CAAYE,QACZ,EAFD,CAPD,CADD,CADD,CADA,GAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAlBF,CADD,CADD,CADD;AA2BA,CA/CD;;AAiDA,eAAe1B,SAAf","sourcesContent":["import { useEffect, useState } from \"react\"\nimport axios from \"axios\"\nimport styled from \"styled-components\"\nimport Link from \"next/link\"\n\nimport Layout from \"../components/layout\"\nimport Container from \"../components/layout/container\"\n\nconst Books = styled.ul`\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: space-around;\n\tlist-style: none;\n\tpadding: 0;\n\n\tli {\n\t\twidth: 30%;\n\t\tmin-width: 300px;\n\t\tmargin: 1rem;\n\t\tflex-grow: 1;\n\t}\n\timg {\n\t\tdisplay: block;\n\t\tmax-width: 100%;\n\t}\n`\n\nconst Price = styled.span`\n\tfont-size: 1.25rem;\n`\n\nconst BookLink = ({ slug, children }: IProps) => (\n\t<Link href=\"/book/[slug]\" as={`/book/${slug}`}>\n\t\t<a>{children}</a>\n\t</Link>\n)\n\ninterface IProps {\n\tslug: string\n\tchildren?: any\n\tcontent: string\n}\n\ninterface IBooks {\n\tresults: [\n\t\t{\n\t\t\tid: string\n\t\t\ttitle: string\n\t\t\tauthor: {\n\t\t\t\tid: string\n\t\t\t\tfirstName: string\n\t\t\t\tlastName: string\n\t\t\t}\n\t\t\tprice: number\n\t\t\tdescription: string\n\t\t\tstockAmount: number\n\t\t\tthumbnail: string\n\t\t\tisbn: string\n\t\t}\n\t]\n}\n\nconst indexPage = () => {\n\tconst [books, setBooks] = useState<any>([])\n\n\tconst getBooks = () => {\n\t\treturn axios.get(`https://booksontap.azurewebsites.net/api/Books`)\n\t}\n\n\tuseEffect(() => {\n\t\tgetBooks().then(res => {\n\t\t\tsetBooks(res.data)\n\t\t})\n\t}, [])\n\n\tconst toLocalCurrency = (amount, country = \"en-GB\", currency = \"GBP\") => {\n\t\treturn new Intl.NumberFormat(country, {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: currency,\n\t\t}).format(amount)\n\t}\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Container>\n\t\t\t\t<Books>\n\t\t\t\t\t{books.length !== 0 ? (\n\t\t\t\t\t\tbooks.results.map(book => (\n\t\t\t\t\t\t\t<li key={book.id}>\n\t\t\t\t\t\t\t\t<BookLink slug={book.id} content={book}>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={book.thumbnail}\n\t\t\t\t\t\t\t\t\t\talt={book.title}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Price>{toLocalCurrency(book.price)}</Price>\n\t\t\t\t\t\t\t\t\t<h2>{book.title}</h2>\n\t\t\t\t\t\t\t\t\t<p>{`byd ${book.author.firstName} ${\n\t\t\t\t\t\t\t\t\t\tbook.author.lastName\n\t\t\t\t\t\t\t\t\t}`}</p>\n\t\t\t\t\t\t\t\t</BookLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<li>Loading ...</li>\n\t\t\t\t\t)}\n\t\t\t\t</Books>\n\t\t\t</Container>\n\t\t</Layout>\n\t)\n}\n\nexport default indexPage\n"]},"metadata":{},"sourceType":"module"}